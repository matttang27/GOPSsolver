#pragma once

#include <cstdint>
#include <string>

struct ExploitabilityStats {
    long long brStates = 0;
    long long brCacheHits = 0;
    long long policyStates = 0;
    long long policyCacheHits = 0;
    long long policyLpSolves = 0;
};

struct ExploitabilityResult {
    int n = 0;
    std::string policy;
    std::string strategyObjective;
    std::string evalObjective;
    double policyEps = 0.0;
    bool compression = true;
    bool exploitGuarantee = true;
    bool vectorizedWinDiffSolver = false;
    double avgValueAUnderBestResponse = 0.0;
    double avgMaxExploitability = 0.0;
    // Indexed by curP-1.
    double perInitialPrizeValueA[16] = {};
    ExploitabilityStats stats;
};

// Expects argv to begin with "exploitability".
int runExploitabilityCommand(int argc, char** argv, const char* exeName);

